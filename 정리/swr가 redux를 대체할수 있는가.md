## í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìì˜ ë°˜ë³µì ì¸ ì‘ì—…
- í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì˜ ëŒ€ë¶€ë¶„ì˜ ì‘ì—…ì€ ì•„ë§ˆë„ ì›ê²© ì„œë²„ì˜ ìƒíƒœë¥¼ UIë¡œ í‘œí˜„í•˜ëŠ” ì¼ì¼ ê²ƒì…ë‹ˆë‹¤. ì´ ì¼ì„ í•˜ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” ë¨¼ì € ë¡œì»¬ ìŠ¤í† ì–´ ìƒíƒœë¥¼ ì •ì˜í•˜ê³  ê° í™”ë©´ì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ìƒíƒœì— ë”°ë¼ ì–´ë–»ê²Œ ë°˜ì‘í•  ì§€(react) ì •ì˜í•©ë‹ˆë‹¤.

- ê·¸ë¦¬ê³  ì ì ˆí•œ ì‹œì ì— ì›ê²© ì„œë²„ì˜ ë°ì´í„°ë¥¼ fetch í•˜ì—¬ ë¡œì»¬ ìŠ¤í† ì–´ ìƒíƒœë¥¼ ì´ˆê¸°í™”í•˜ê³  ì‚¬ìš©ì ì•¡ì…˜ì„ ë°›ì•„ì„œ ì›ê²©ìƒíƒœë¥¼ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œí•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì›ê²©ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ê·¸ì— ë§ê²Œ ë¡œì»¬ ìŠ¤í† ì–´ ìƒíƒœë„ ë™ê¸°í™”ì‹œí‚¤ëŠ” ì‘ì—…ì„ ë¹¼ë¨¹ì§€ ë§ì•„ì•¼ ê² ì§€ìš”.

- ìš°ë¦¬ ëŒ€ë¶€ë¶„ì€ ëŠ˜ ì´ëŸ° ì¼ë“¤ì„ í•©ë‹ˆë‹¤. ì´ ì¤‘ íŠ¹ë³„íˆ ê·€ì°®ì€ ì‘ì—… ì¤‘ í•˜ë‚˜ê°€ ë°ì´í„°ì˜ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ì›ê²©ì˜ ìƒíƒœì™€ ë¡œì»¬ì˜ ìƒíƒœë¥¼ ë™ê¸°í™”ì‹œí‚¤ëŠ” ì¼ì´ì£ . ì´ ì‘ì—…ì— ëŒ€í•œ í˜„ê¸°ì¦ì„ ëˆ„êµ¬ë‚˜ í•œë²ˆì¯¤ì€ ëŠë¼ì…¨ì„ ê²ƒì…ë‹ˆë‹¤.

## SWRì´ í•´ê²°í•˜ëŠ” ë¬¸ì œ
- SWR ì´ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œì˜ í•µì‹¬ì€ ë°”ë¡œ ì´ ì§€ì ì— ìˆìŠµë‹ˆë‹¤. SWRì€ ì›ê²©ìƒíƒœì™€ ë¡œì»¬ìƒíƒœë¥¼ í•˜ë‚˜ë¡œ í†µí•©í•©ë‹ˆë‹¤. SWRì´ ì›ê²©ìƒíƒœì˜ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì— ê·¸ëŒ€ë¡œ ì—°ê²°í•œë‹¤ê³  ìƒê°í•˜ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤. ìœ„ì— ì œì‹œëœ ì½”ë“œë¥¼ ë‹¤ì‹œ í•œë²ˆ ë³´ì„¸ìš”. ì •ë§ë¡œ SWRì´ ê·¸ë ‡ê²Œ ë™ì‘í•˜ê³  ìˆëŠ” ê²ƒ ê°™ì§€ ì•ŠìŠµë‹ˆê¹Œ?

SWRì€ í•´ë‹¹ ë°ì´í„°ë¥¼ ë§ˆì¹˜ ì›ê²©ìƒíƒœì™€ ì—°ê²°ëœ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œì„œ ë°”ë¼ë³¼ ìˆ˜ ìˆë„ë¡ ë°ì´í„° fetching ë‹¨ê³„ë¥¼ ì¶”ìƒí™”í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ëˆˆì¹˜ë¹ ë¥¸ ê°œë°œìë¼ë©´ SWR ì´ ì–´ë–»ê²Œ HTTP ìƒì—ì„œ ì›ê²©ì„œë²„ì˜ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¨ ë§ì´ëƒ ë¼ê³  ì˜ë¬¸ì„ ê°€ì§€ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë„¤ ë‹¹ì—°í•œ ì§ˆë¬¸ì…ë‹ˆë‹¤.

- ê·¸ ë¹„ë°€ì€ (ë§¤ìš° ì‹œì‹œí•˜ì§€ë§Œ) SWR ì´ ë‚´ë¶€ì ìœ¼ë¡œ ì ì ˆí•œ íƒ€ì´ë°ì— ì§€ì†ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ í´ë§í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì‚¬ì‹¤ ì‹¤ì‹œê°„ì´ë¼ëŠ” ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ê¸°ì— ë¯¼ë§ìŠ¤ëŸ¬ìš¸ ë§Œí¼ ì‚¬ì‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ê°€ fetch ë˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. í•˜ì§€ë§Œ ì¶©ë¶„íˆ ìš©ë‚©í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ë°ì´í„°ëŠ” ìµœì‹  ë°ì´í„°ë¡œ ê°±ì‹ ë©ë‹ˆë‹¤. SWR ì€ ë¸Œë¼ìš°ì ¸ ì°½ì´ focus ë¥¼ ì–»ì„ ë•Œ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ê°€ offline ì—ì„œ online ìœ¼ë¡œ ë°”ë€” ë•Œ ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ fetch í•©ë‹ˆë‹¤. ê·¸ ë°–ì— polling ì£¼ê¸°ë¥¼ ì§ì ‘ ì„¤ì •í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## SWRì€ ì–´ë–»ê²Œ Reduxë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ”ê°€
- ê·¸ëŸ¼ ì´ì œ SWRì´ ì–´ë–»ê²Œ ê¸°ì¡´ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ”ì§€ ìì„¸íˆ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. SWR ì´ ê¸°ì¡´ Redux ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” ì´ìœ ëŠ” ì»´í¬ë„ŒíŠ¸ê°„ ì „ì—­ ìƒíƒœë¥¼ ê³µìœ í•  ìˆ˜ ìˆë‹¤ëŠ” íŠ¹ì„± ë•Œë¬¸ì…ë‹ˆë‹¤.

- ë§ì€ ê²½ìš°ì— ìˆì–´ ë¡œì»¬ ìŠ¤í† ì–´ì˜ ëŒ€ë¶€ë¶„ ìƒíƒœëŠ” ì•„ë§ˆ ì›ê²© ì„œë²„ì˜ ìƒíƒœë¥¼ ê·¸ëŒ€ë¡œ ì €ì¥í•´ ë‘” ê²ƒì— ë‹¤ë¥´ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.(Redux ë¥¼ ì¶©ë¶„íˆ ê³ ë„í™”í•´ì„œ ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šë‹¤ë©´ ğŸ˜…)

- ìš°ë¦¬ê°€ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ì ˆì°¨ëŠ” ë³´í†µ ì•„ë˜ì™€ ê°™ì„ ê²ƒì…ë‹ˆë‹¤.

1. ë¡œì»¬ì˜ ìƒíƒœë¥¼ ì •ì˜í•œë‹¤
2. ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ìŠ¤í† ì–´ ìƒíƒœì— ë”°ë¥¸ ë Œë”ë§ì„ ì •ì˜
3. ì ì ˆí•œ ì‹œì ì— ë°ì´í„°ë¥¼ fetch í•˜ì—¬ ë¡œì»¬ ìŠ¤í† ì–´ë¥¼ ì´ˆê¸°í™”
   1. ê·¸ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ í•´ë‹¹ ë°ì´í„°ë“¤ì´ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì •ì˜í•œëŒ€ë¡œ í™”ë©´ì— ë¿Œë ¤ì§

-SWRì„ ì´ìš©í•˜ë©´ ìœ„ 3ê°€ì§€ ê³¼ì •ì„ í•˜ë‚˜ë¡œ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•ì„œ ì œì‹œëœ SWR ì˜ˆì‹œ ì½”ë“œë¥¼ í†µí•´ ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì½”ë“œë¥¼ ì¡°ê¸ˆ ë°œì „ì‹œí‚¤ë©´ ì›ê²©ì„œë²„ì™€ ì—°ê²°ëœ ê° ë°ì´í„°ìŠ¤íŠ¸ë¦¼ì„ ìƒíƒœì— ë”°ë¼ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ì •ì˜í•˜ì—¬ ë§ˆì¹˜ ë¡œì»¬ì˜ ìƒíƒœë¥¼ ë‹¤ë£¨ë“¯ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// usePoints.js
import useSWR from 'swr'

export default () => {
  const {data, error} = useSWR('/api/points', url => {
    return fetch(url).then(res => res.json())
  })
  return {data, error}
}
```
```js
// useUsers.js
import useSWR from 'swr'

export default () => {
  const {data, error} = useSWR('/api/users', url => {
    return fetch(url).then(res => res.json())
  })
  return {data, error}
}
```
- ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ SWRì„ ì´ìš©í•´ ê°œë³„ ìƒíƒœë“¤ì„ ì •ì˜í•˜ë©´ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë“¤ì—ì„œ í•„ìš”í•œ ìƒíƒœë¥¼ ê°€ì ¸ë‹¤ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì‚¬ìš©ìê°€ ì‚¬ìš©ì ì •ë³´ë¥¼ ìˆ˜ì •í•  ê²½ìš°ì—ëŠ” SWR ì˜ ë‚´ë¶€ ìŠ¤ì¼€ì¥´ë§ì— ì˜í•œ ë°ì´í„°ê°±ì‹ ì„ ê¸°ë‹¤ë¦¬ê¸° ë³´ë‹¤ ìˆ˜ì • ì¦‰ì‹œ í™”ë©´ì— ë³€ê²½ëœ ë°ì´í„°ê°€ ë³´ì—¬ì ¸ì•¼ í•  ê²ƒì…ë‹ˆë‹¤. ì´ëŸ´ ê²½ìš°ì—ëŠ” mutate í•¨ìˆ˜ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. mutate í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ í•´ë‹¹ ìƒíƒœë¥¼ ì¦‰ì‹œ ë‹¤ì‹œ fetch í•˜ê³  ë°ì´í„°ë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
```js
import useSWR from 'swr'

function UserInfo(){
  const {data, error, mutate} = useSWR('/api/users', url => {
    return fetch(url).then(res => res.json())
  })
  
  const handleChange = async (user) => {
    await updateUser(user)
    mutate()
  }  

  return <div>~ìƒëµ~</div>
}
```

- ì˜ˆë¯¼í•œ ê°œë°œìë¼ë©´ ì„œë²„ì˜ ìƒíƒœë¥¼ ê°±ì‹ í•œ í›„ í•´ë‹¹ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ë‹¤ì‹œ fetch í•˜ëŠ” ê²ƒì€ íš¨ìœ¨ì ì´ì§€ ëª»í•˜ë‹¤ê³  ìƒê°í•˜ì‹¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì–´ì§œí”¼ ë¡œì»¬ì—ì„œ í•´ë‹¹ user ì˜ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ê°±ì‹ ë˜ì—ˆëŠ” ì§€ë¥¼ ì•Œê³  ìˆê¸° ë•Œë¬¸ì´ì£ . ì˜³ì€ ì§€ì ì…ë‹ˆë‹¤. mutate í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ ë°ì´í„° fetch ì—†ì´ ë¡œì»¬ì˜ ìºì‹œë˜ì–´ìˆë˜ ìƒíƒœë§Œ ê°±ì‹ í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ë§ì´ì£ .
```js
  const handleChange = async (user) => {
    await updateUser(user)
    mutate(user, false) // ì²«ë²ˆì¬ ì¸ìë¡œ ê°±ì‹ í•  ë°ì´í„°, ë‘ë²ˆì§¸ ì¸ìë¡œ ë°ì´í„° fetch ì—¬ë¶€ë¥¼ ì¸ìë¡œ ë°›ìŠµë‹ˆë‹¤.
  }  
```

## only ë¡œì»¬ìƒíƒœ ê´€ë¦¬ë§Œ í•„ìš”í•˜ë‹¤ë©´?

- ì›ê²©ìƒíƒœëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê³  ì˜¤ì§ ë¡œì»¬ìƒíƒœë§Œ í•„ìš”í•œ ê²½ìš°ë„ ì–¼ë§ˆë“ ì§€ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš°ë¼ë„ SWRì„ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œìš”? ë„¤ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- SWRì€ ê¸°ë³¸ì ìœ¼ë¡œ ì›ê²©ì„œë²„ì˜ ìƒíƒœë¥¼ fetch í•˜ëŠ” ë°ì— ì í•©í•œ ë„êµ¬ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë¥¼ ì¡°ê¸ˆ ì‘ìš©í•˜ë©´ ë¡œì»¬ì˜ ìƒíƒœë§Œì„ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš°ì—ë„ ì¶©ë¶„íˆ SWRì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. fetch í•¨ìˆ˜ê°€ ì ‘ê·¼í•˜ëŠ” ì›ê²©ìƒíƒœê°€ ë¡œì»¬ í™˜ê²½ì— ìˆë‹¤ê³  ìƒê°í•˜ë©´ ë˜ê² ì§€ìš”.ğŸ™‚

- ë¡œì»¬ í™˜ê²½ì˜ ì›ê²©ìƒíƒœ?ëŠ” í•„ìš”ì— ë”°ë¼ window, sessionStorage, localStorage, í´ë¡œì ¸ ë³€ìˆ˜ ë“±ì„ ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì•ì„  ê¸€ì—ì„œ ì²˜ìŒ ì œì‹œë˜ì—ˆë˜ ë™ê¸°ì  ìƒí™©ë§Œì„ ê³ ë ¤í•˜ëŠ” ì¹´ìš´í„°ë¥¼ Redux ì—†ì´ SWRë§Œì„ ì´ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
import useSWR from 'swr'

function useCounter(){
  const {data, mutate} = useSWR('state', () => window.count)
  return {data, mutate: (count) => {
    window.count = count
    return mutate()
  }}
}

function Counter(){
  const {data, mutate} = useCounter()
  
  const handleInc = () => mutate(data + 1)
  const handleDec = () => mutate(data - 1)

  return (
      <div>
        <span>count: {data}</span>
        <button onClick={handleInc}>inc</button>
        <button onClick={handleDec}>dec</button>
      </div>
  )
}
```
